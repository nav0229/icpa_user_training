<!-- TSS Action Planning Application                         -->
<!--  -----------------------------------------------------  -->
<!-- Created By      | Version |  Date    | Description      -->
<!--  -----------------------------------------------------  -->
<!-- Raja Kumar        1.0      05/19/2015  Created          -->
<!-- Raja Kumar        1.1      08/21/2015  Changed title    -->
<!-- Todd Carlough     1.2      04/19/2016  UI/Mobile Update -->
<!-- Khemvisoth Prum   1.3      05/03/2016  UI Update        -->
<!-- Ramesh Dugar      1.4      05/10/2016  UI Updates,javascript validations & 508 compliance related fixes -->
<!-- Brad Smith        1.5      05/18/2016  Removed contact id dependancy -->
<!-- Ramesh Dugar      1.6      05/28/2016 Removed  the call to detectDevice method    -->
<!-- Raja Kumar P      1.7      06/21/2016  Added an attribute i.e.cache=false -->
<!--  -----------------------------------------------------  -->
<apex:page controller="TSSSurveyController" showheader="false" title="GSA"
    sidebar="false" standardStylesheets="false" id="Page2" doctype="html-5.0" cache="false">
    <apex:stylesheet value="{!URLFOR($Resource.WDS091, '/uswds-0.9.1/css/uswds.css')}"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <html lang="en-US" />

    <style type="text/css">
      .usa-heading-alt {
        border-bottom-width: 1px;
        border-bottom-style: solid;
        border-bottom-color: rgb(91, 97, 107);
      }

      form {
        max-width: 1400px;
      }

      label {
        max-width: 1040px;
        margin-top: 0px;
      }

      table th, table td {
        border: 0px;
        padding: 0px;
        margin: 0px;

      }

      th {
        width: 5%;
      }

      .question {
        text-align: left;
      }

      .labelCol {
        max-width: 300px;
        max-height: 20px;
        padding-right: 10px;
        width: 5%;
      }
      .rating1 {
        width: 80px;
        padding-right: 5px;
        position: relative;
        font-weight: normal;
      }
      .rating2{
        width: 80px;
        padding-right: 40px;
        position: relative;
        left: 5px;
      }
      .rating3{
        width: 80px;
        padding-right: 50px;
        position: relative;
        left: 18px;
      }
      .rating4{
        width: 80px;
        padding-right: 45px;
        position: relative;
        left: 34px;
      }
      .rating5{
        width: 80px;
        padding-right: 38px;
        position: relative;
        left: 30px;
      }
      .rating6{
        width: 80px;
        padding-right: 5px;
        position: relative;
        left: 10px;
      }
          }
      .rating6ws{
        width: 80px;
        padding-right: 5px;
        position: relative;
        left: 10px;
      }

      .rating2bs{
        width: 80px;
        padding-right:27px;
        position: relative;
      }

      .rating3bs{
        width: 80px;
        padding-right: 27px;
        position: relative;
        left: 18px;
      }

      .rating4bs {
        width: 80px;
        padding-right: 39px;
        padding-left: 19px;
        position: relative;
        left: 34px;
      }

      fieldset {
        text-align: center;
      }

      .pOpt label{

           }
      .question b{
          color:red;
      }
    </style>

    <html>
  <body >
    <div class="usa-grid">
      <div class="usa-grid-full">
        <header class="usa-site-header" role="banner">
          <div class="wrap">
            <a target="_blank" href="http://www.gsa.gov/">
              <apex:image url="{!URLFOR($Resource.GSATSSLogo)}" alt="GSA Seal" width="286" height="50" />
            </a>
            <h1>Federal Tenant Satisfaction Survey</h1>
            <h4>Page 2 of 2</h4>

          </div>
        </header>
      </div>
    <apex:messages />
    
    <apex:form id="Form1">

    <apex:pageBlock >
      <div id="Section1">
          <apex:pageBlockSection columns="1" id="Section1">
            <h2 class="usa-heading-alt">OVERALL SATISFACTION</h2>
            <div class="usa-grid-full">
              <p style="font-style:italic"> Think about all aspects of your building and workspace environment (e.g., attractiveness of building and grounds, cleanliness, and building management). Please rate your OVERALL level of satisfaction with the building services you receive.</p>
            </div>
            <apex:pageBlockSectionItem id="Item1" dataStyle="width:20%" labelStyle="width:5%" >
                <apex:outputLabel value="<b>*</b> Overall Satisfaction" title="Overall Satifaction" for="overallsat"
                                      styleClass="question" escape="false"  html-aria-label="Overall Satisfaction" html-aria-required="true"/>
                <apex:outputPanel styleClass="requiredInput" layout="block">
                  <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                    <apex:selectRadio value="{!overallsat}" borderVisible="false" id="overallsat"
                                      required="false" title="{!overallsat}" html-aria-required="true" >
                      <apex:selectOptions value="{!osratings}"/>
                    </apex:selectRadio>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
          </apex:pageBlockSection>
      </div>
    </apex:pageBlock>


      <h2 class="usa-heading-alt">BUILDING AND WORKSPACE ENVIRONMENT </h2>
      <div class="usa-grid-full">
      <p style="font-style:italic"> Please rate your level of satisfaction in the past 12 months with your building and workspace environment on the following features: </p>
        <h3>Condition of Facility</h3>
      <p style="font-style:italic"> The condition of the facility means how you feel about the look and functionality of the building you work in, i.e., aesthetically pleasing, in need of repairs, obsolete, and or meets your needs.</p>
      </div>

      <apex:pageBlock >
      <apex:pageBlockSection columns="1" id="psBldgwkspace1">
                  <tr>
                  <td> </td>
                  <td >
                      <span class="rating1">Highly Dissatisfied</span>
                      <span class="rating2">Dissatisfied</span>
                      <span class="rating3">Neutral</span>
                      <span class="rating4">Satisfied</span>
                      <span class="rating5">Highly Satisfied</span>
                      <span class="rating6">Not Applicable</span>
                  </td>
                  </tr>

              <apex:pageBlockSectionItem id="Item1" dataStyle="width:20%" labelStyle="width:5%">
                  <apex:outputLabel value="Building exterior and grounds" for="condcat1" styleClass="question"/>
                  <apex:selectRadio value="{!condcat1}" borderVisible="false" id="condcat1" styleClass="pOpt" html-aria-label="Building exterior and grounds">
                    <apex:selectOptions value="{!blankratings}" />
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>

              <apex:pageBlockSectionItem id="Item2" >
                  <apex:outputLabel value="Building interior common areas (hallways, stairwells, building lobby)" for="condcat2" styleClass="question"/>
                  <apex:selectRadio value="{!condcat2}" borderVisible="false" id="condcat2" styleClass="pOpt" html-aria-label="Building interior common areas (hallways, stairwells, building lobby)">
                    <apex:selectOptions value="{!blankratings}"/>
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>
      <apex:pageBlockSectionItem id="Item3" >
                  <apex:outputLabel value="Restrooms" for="condcat3" styleClass="question"/>
                  <apex:selectRadio value="{!condcat3}" borderVisible="false" id="condcat3" styleClass="pOpt" html-aria-label="Restrooms">
                    <apex:selectOptions value="{!blankratings}" html-aria-label="Restrooms"/>
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>
              <apex:pageBlockSectionItem id="Item4">
                  <apex:outputLabel value="Personal Workspace" for="condcat4" styleClass="question"/>
                  <apex:selectRadio value="{!condcat4}" borderVisible="false" id="condcat4" styleClass="pOpt" >
                    <apex:selectOptions value="{!blankratings}" html-aria-label="Personal Workspace"/>
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>

              <apex:pageBlockSectionItem id="Item5">
                  <h3 class="usa-heading-alt" style="border-bottom-style:none">Quality of Cleanliness</h3>
                  <br />
              </apex:pageBlockSectionItem>
                 <tr>
                  <td> </td>
                  <td >
                      <span class="rating1">Highly Dissatisfied</span>
                      <span class="rating2">Dissatisfied</span>
                      <span class="rating3">Neutral</span>
                      <span class="rating4">Satisfied</span>
                      <span class="rating5">Highly Satisfied</span>
                      <span class="rating6">Not Applicable</span>
                  </td>
                  </tr>




              <apex:pageBlockSectionItem id="Item6" >
                  <apex:outputLabel value="Building exterior and grounds" for="cleancat1" styleClass="question"/>

                  <apex:selectRadio value="{!cleancat1}" borderVisible="false" id="cleancat1" layout="lineDirection" styleClass="pOpt" html-aria-label="Building exterior and grounds" >
                    <apex:selectOptions value="{!blankratings}" html-aria-label="Building exterior and grounds"/>
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>

              <apex:pageBlockSectionItem id="Item7">
                  <apex:outputLabel value="Building interior common areas (hallways, stairwells, building lobby)" for="cleancat2" styleClass="question"/>
                  <apex:selectRadio value="{!cleancat2}" borderVisible="false" id="cleancat2" styleClass="pOpt" html-aria-label="Building interior common areas (hallways, stairwells, building lobby)">
                    <apex:selectOptions value="{!blankratings}" html-aria-label="Building interior common areas (hallways, stairwells, building lobby)"/>
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>

              <apex:pageBlockSectionItem id="Item8" >
                  <apex:outputLabel value="Restrooms" for="cleancat3" styleClass="question"/>
                  <apex:selectRadio value="{!cleancat3}" borderVisible="false" id="cleancat3" styleClass="pOpt" html-aria-label="Restrooms">
                    <apex:selectOptions value="{!blankratings}" html-aria-label="Restrooms"/>
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>

              <apex:pageBlockSectionItem id="Item9" >
                  <apex:outputLabel value="Personal Workspace" for="cleancat4" styleClass="question"/>
                  <apex:selectRadio value="{!cleancat4}" borderVisible="false" id="cleancat4" styleClass="pOpt" html-aria-label="Personal Workspace">
                    <apex:selectOptions value="{!blankratings}" html-aria-label="Personal Workspace"/>
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>
          </apex:pageBlockSection>

          <h2 class="usa-heading-alt">ELEVATORS</h2>
          <div id="elevator">
          <apex:pageBlockSection columns="1" id="psElevators1">
              <tr>
              <td> </td>
              <td >
                  <span class="rating1">Highly Dissatisfied</span>
                  <span class="rating2">Dissatisfied</span>
                  <span class="rating3">Neutral</span>
                  <span class="rating4">Satisfied</span>
                  <span class="rating5">Highly Satisfied</span>
                  <span class="rating6">Not Applicable</span>
              </td>
              </tr>
              <apex:pageBlockSectionItem dataStyle="width:20%" labelStyle="width:5%" id="Item10" >
                  <apex:outputLabel value="How satisfied are you with how well the elevators operate?" for="elevator" styleClass="question"/>
                  <apex:selectRadio value="{!elevator}" borderVisible="false" id="elevator">
                    <apex:selectOptions value="{!blankratings}"/>
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>
          </apex:pageBlockSection>
          </div>

          <h2 class="usa-heading-alt">MEETING SPACES</h2>
          <div id="psmspace">
          <apex:pageBlockSection columns="1" id="psmspace1">
              <tr>
              <td> </td>
              <td >
                  <span class="rating1">Highly Dissatisfied</span>
                  <span class="rating2">Dissatisfied</span>
                  <span class="rating3">Neutral</span>
                  <span class="rating4">Satisfied</span>
                  <span class="rating5">Highly Satisfied</span>
                  <span class="rating6">Not Applicable</span>
              </td>
              </tr>
              <apex:pageBlockSectionItem dataStyle="width:20%" labelStyle="width:5%" id="Item11" >
                  <apex:outputLabel value="How satisfied are you with the availability of meeting spaces?" for="meeting" styleClass="question"/>
                  <apex:selectRadio value="{!meetspace}" borderVisible="false" id="meeting">
                    <apex:selectOptions value="{!blankratings}"/>
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>
          </apex:pageBlockSection>
          </div>

          <h2 class="usa-heading-alt">PERSONAL WORKSPACE COMFORT</h2>
          <div id="pspcomfort">
          <apex:pageBlockSection columns="1" id="pspcomfort1">
              <tr>
              <td> </td>
              <td >
                  <span class="rating1">Highly Dissatisfied</span>
                  <span class="rating2">Dissatisfied</span>
                  <span class="rating3">Neutral</span>
                  <span class="rating4">Satisfied</span>
                  <span class="rating5">Highly Satisfied</span>
                  <span class="rating6">Not Applicable</span>
              </td>
              </tr>
              <apex:pageBlockSectionItem id="Item12" dataStyle="width:20%" labelStyle="width:5%">
                  <apex:outputLabel value="Temperature" for="workcat1" styleClass="question"/>
                  <apex:selectRadio value="{!workcat1}" borderVisible="false" id="workcat1" styleClass="pOpt">
                    <apex:selectOptions value="{!blankratings}"/>
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>

              <apex:pageBlockSectionItem id="Item13">
                  <apex:outputLabel value="Air quality (proper ventilation, air freshness, odors)" for="workcat2" styleClass="question"/>
                  <apex:selectRadio value="{!workcat2}" borderVisible="false" id="workcat2" styleClass="pOpt">
                    <apex:selectOptions value="{!blankratings}"/>
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>

              <apex:pageBlockSectionItem id="Item14">
                  <apex:outputLabel value="Amount of light" for="workcat3" styleClass="question"/>
                  <apex:selectRadio value="{!workcat3}" borderVisible="false" id="workcat3" styleClass="pOpt">
                    <apex:selectOptions value="{!blankratings}"/>
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>

              <apex:pageBlockSectionItem id="Item15">
                  <apex:outputLabel value="Noise levels" for="workcat4" styleClass="question"/>
                  <apex:selectRadio value="{!workcat4}" borderVisible="false" id="workcat4" styleClass="pOpt">
                    <apex:selectOptions value="{!blankratings}"/>
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>
          </apex:pageBlockSection>
          </div>

          <h2 class="usa-heading-alt">BUILDING MANAGEMENT</h2>
          <div id="psbmgmt1">
          <apex:pageBlockSection columns="1" id="psbmgmt1">

              <apex:pageBlockSectionItem dataStyle="width:20%" labelStyle="width:5%" id="Item16">
                  <apex:outputLabel value="Do you know who to contact if you notice an issue in your building?" for="bldgmgmt1" styleClass="question"/>
                  <apex:selectRadio value="{!bldgmgmt1}" borderVisible="false" id="bldgmgmt1" styleClass="bmOpt">
                    <apex:selectOptions value="{!bmratings}"/>
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>
              <apex:pageBlockSectionItem dataStyle="width:20%" labelStyle="width:5%" id="Item17">
                  <apex:outputLabel value="Do you know how to get an issue corrected in your building?" for="bldgmgmt2" styleClass="question"/>
                  <apex:selectRadio value="{!bldgmgmt2}" borderVisible="false" id="bldgmgmt2" styleClass="bmOpt">
                    <apex:selectOptions value="{!bmratings}"/>
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>
          </apex:pageBlockSection>
          </div>
          <h2 class="usa-heading-alt">BUILDING SECURITY </h2>
           <p style="font-style:italic"> Please rate your level of satisfaction
                                                    in the past 12 months with the security in your building. </p>
           <div id="psSecurity">
          <apex:pageBlockSection columns="1" id="psSecurity1">
              <tr>
              <td> </td>
              <td >
                  <span class="rating1">Highly Dissatisfied</span>
                  <span class="rating2bs">Dissatisfied</span>
                  <span class="rating3bs">Neutral</span>
                  <span class="rating4bs">Satisfied</span>
                  <span class="rating5">Highly Satisfied</span>
                  <span class="rating6">Not Applicable</span>
              </td>
              </tr>

              <apex:pageBlockSectionItem dataStyle="width:20%" labelStyle="width:5%" id="Item18">
              <!--<h4 style="font-size:1.7rem" html-aria-label="Question 1">How satisfied are you with the security presence and measures in your building</h4>-->
                  <apex:outputLabel value="How satisfied are you with the security presence and measures in your building?" for="security" styleClass="question" html-aria-label="Question1.How satisfied are you with the security presence and measures in your building?"/>
                  <apex:selectRadio value="{!security}" borderVisible="false" id="security">
                    <apex:selectOptions value="{!blankratings}"/>
                  </apex:selectRadio>
              </apex:pageBlockSectionItem>


          <!--This is a NEW QUESTION added to the UI.  It will need to be added to the remaining code and process. -->

            <apex:pageBlockSectionItem dataStyle="width:20%" labelStyle="width:220px" id="Item19">
            <!--<h4> How satisfied are you with the professionalism of the Federal Protective Service officers and security personnel?</h4>-->
               <apex:outputLabel value="How satisfied are you with the professionalism of the Federal Protective Service officers and security personnel?" for="securityPersonnel" styleClass="question"/>
                <apex:selectRadio value="{!securityPersonnel}" borderVisible="false" id="securityPersonnel">
                  <apex:selectOptions value="{!blankratings}"/>
                </apex:selectRadio>
            </apex:pageBlockSectionItem>
          </apex:pageBlockSection>
          </div>

          <h2 class="usa-heading-alt">PERSONAL WORKSPACE TYPE</h2>
          <apex:outputText value="Which of the following best describes your personal workspace?" id="item20"/>
          <apex:selectList size="1" value="{!wkspacetype}" id="wkspacetype"
                           title="Which of the following best describes your personal workspace?"
                           html-aria-label="Which of the following best describes your personal workspace?">
          <apex:selectOptions value="{!wsmobratings}"/>
          </apex:selectList>

          <br />
          <H2 class="usa-heading-alt" >ADDITIONAL COMMENTS</H2>
          <apex:outputLabel value="Please provide any additional comments concerning your overall satisfaction." for="comments" styleClass="question"/>
          <apex:inputTextarea value="{!comments}" id="comments" rows="5" cols="60" title="additional comments" />

           <apex:outputpanel layout="block">

                <apex:pageBlock >
                  <p style="font-size:1.7rem;text-transform:none" tabindex="0"><strong>Note:</strong>
                      <i>Please confirm that your selections above are correct before clicking "Submit". If you have any questions, please contact us at
              <a href='mailto:TSScustomerservice@gsa.gov?subject=Update TSS Building Information'>TSScustomerservice@gsa.gov.</a> </i>
                  </p>
                </apex:pageBlock>
           </apex:outputpanel>
          <div id="button" style="text-align:center">
                <apex:commandButton value="Previous" action="{!previous}" title="previous" style="display:inline" styleClass="usa-button-gray"/>
                <apex:commandButton value="Submit" action="{!save}" title="submit" onclick="return validatePage2();" style="display:inline" />
          </div>


    </apex:pageBlock>
    </apex:form>
    </div>
  </body>

   <footer style="text-align:center;color:gray;margin-top:250px">
   <p style="text-align:center;font-size:medium;">Proudly built using <a href="https://standards.usa.gov/" style="color:blue">U.S. Web Design Standards</a></p>
  </footer>
  <!--<script>
    window.onload = function(){
        document.getElementById('{!$Component.Page2.Form1.Block1.Section1.Item2.comments}').blur();
    };
  </script>-->
  <script type="text/javascript">
      function validatePage2() {
            var flag = false;
            var myradios = document.getElementsByName('{!$Component.Page2:Form1:j_id5:Section1:Item1:overallsat}');
            for(i = 0; i < myradios.length; i++) {
                if(myradios[i].checked) {
                    // now we now the selected index
                    //alert('Selected value is: ' + myradios[i].value);
                    flag = true;
                }
            }
            if(flag !== true) {
                alert('Please indicate your OVERALL level of satisfaction.');
                //document.getElementById('{!$Component.Page2.Form1.Block1.Section1.Item1.overallsat.1}').focus();
                myradios[0].focus();
                return flag;
            } else {
                return flag;
            }
      }
  </script>
  <script>
       var j$ = jQuery.noConflict();
    j$( document ).ready(function() {
    j$('input').siblings('label').each(function(index,element){
      j$(element).css('color','#FFF');
      j$(element).css('font-size','0px');
    });

        j$('#Section1').find('label').css('color','#000');
        j$('#Section1').find('label').css('font-size','1.7rem');
        j$('#psbmgmt1').find('label').css('color','#000');
        j$('#psbmgmt1').find('label').css('font-size','1.7rem');
        j$('#elevator').find('label').css('margin-left','8px');
        j$('#pspcomfort').find('label').css('margin-left','-2px');
        j$('#psSecurity').find('label').css('margin-left','-5px');
        j$('#psmspace').find('label').css('margin-left','3px');


    });
  </script>
</html>

  <apex:includeScript value="{!URLFOR($Resource.wds, '/uswds-0.9.0/js/uswds.min.js')}"/>
</apex:page>